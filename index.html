<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Language" content="pt-br">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel='shortcut icon' type='image/x-icon' href='favicon.ico' />

    <title>Festival de Matemática e Arte 2018</title>
    <!-- AR.js stuff-->
    <script src="js/aframe.min.js"></script>
    <script src="js/aframe-ar.js"></script>
    <!-- end AR.js specific scripts -->
    <script src="play-on-window-click.js"></script>

    <script>
    AFRAME.registerComponent('vidhandler', { // ... 
        init: function () { // Set up initial state and variables.
            this.toggle = false; this.vid = document.querySelector("#vid");
            this.vid.pause(); }, tick:function(){ 
                if(this.el.object3D.visible == true){ 
                    if(!this.toggle){ this.toggle = true; this.vid.click } 
                }else{ this.toggle = false; this.vid.pause(); } } }
                ); 
                function refrespage() { 
                    location.reload(); 
                }    
    </script>


    <style>
        .a-enter-vr {
            display: none !important;

        }
        .container{
            display: flex;
            }
        .fixed{
            width: 100px;
            }
        .flex-item{
            flex-grow: 1;
            }
        div {
            height:50px;
            width:100%;
        }
    </style>

</head>

<body style="margin:0px; overflow:hidden;">

    <div style='position:fixed; top: 10px; left: 20px; text-align: left; z-index: 1;'>
        <div class="container">
            <div class="fixed">
                <img src="images/Logo_festma.png" alt="Logo do Festival de Matemática e Arte" height="70%">
            </div>
            <div class="flex-item" style="position:fixed; bottom: 5px; left: 20px; z-index: -1">
                <h5><strong>VR & AR + Web technologies = ❤</strong></h5>

            </div>
        </div>
    </div>



    <a-scene antialias="true" embedded arjs='sourceType: webcam; trackingMethod: best; debugUIEnabled: false;'>
        <!-- Quadrado Mágico -->
        <a-marker id='cite' type='pattern' url='marker/pt-cite.patt'>
            <a-plane src="assets/quadrado-magico-kami.jpg" scale="7.3 7.3 7.3" rotation="-90 0 0" position="0 0 -3">
            </a-plane>

            <a-plane color="white" width="3" position="-8 0.5 -1" rotation="-90 0 0"></a-plane>
            <a-text value="Obra: Quadrado Magico 
            Antonio Peticov" align="center" color="black" width="5"
                position="-8 0.8 -1" rotation="-90 0 0"></a-text>
        </a-marker>

        <!--Disponibilitá-->
        <a-marker id='frac1' type='pattern' url='marker/pt-frac1.patt'>
            <a-plane color="white" width="3" position="4.5 1 0" rotation="-90 0 0"></a-plane>
            <a-text value="Obra: “Disponibilita” (1981)
            Antonio Peticov" align="center" color="black" width="5"
                position="5 1.1 0" rotation="-90 0 0"></a-text>

            <a-plane src="assets/disponibilita.jpg" width="3.8" height="5.1" rotation="-90 0 0">
            </a-plane>
        </a-marker>

        <!--Ladder-->
        <a-marker id='frac2' type='pattern' url='marker/pt-frac2.patt'>
            <a-plane src="assets/ladder.png" scale="2 2 2" height="2.5" width="2" rotation="-8 0 0" position="0 0 -1.5">
            </a-plane>
        </a-marker>

        <!--Vídeo-->
        <a-assets>
            <video id="vid"  loop="true" crossorigin webkit-playsinline> <source type="video/mp4" src="assets/video-peticov.mp4" /> </video>
        </a-assets>
        <a-marker id='frac3' type='pattern' url='marker/pt-frac3.patt' vidhandler>            
            <a-plane position='0 0 0' scale="2 2 2" width="1.5" rotation="-90 0 0" material='transparent:true;src:#vid' play-on-window-click></a-plane>
        </a-marker>

        <!-- Labirinto -->
        <a-marker id='frac4' type='pattern' url='marker/pt-frac4.patt'>
            <a-plane id='lab' src="assets/labirinto.jpg" scale="2 2 2" rotation="-90 0 0">
                <a-animation attribute="rotation" dur="10000" fill="forwards" to="-90 360 0" repeat="indefinite"></a-animation>
            </a-plane>
            <a-plane color="white" width="3" position="3 0 0" rotation="-90 0 0"></a-plane>
            <a-text value="Obra: “Labirinto” (1984)
            Antonio Peticov" align="center" color="black" width="5"
                position="3 0.1 0" rotation="-90 0 0"></a-text>
        </a-marker>


        <a-camera-static />
    </a-scene>

</body>

</html>
